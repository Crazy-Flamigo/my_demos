<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>欢迎来到一起读书！</title>
    <link rel="stylesheet" href="../iconfont/iconfont.css" \link>
    <link rel="stylesheet" href="../css/loginsignup.css" \link>

    <script src="../js/snabbt.min.js"></script>
    <script src="../js/jquery.js"></script>
    <script src="../js/loginsignup.js"></script>



</head>
<body>

<div class="mainbody">
    <!--顶部banner-->
    <div class="banner">

        <div class="user" style="width: 80px;float: right;margin-right: 10px;text-align: center">
            <div class="userpic" style="margin-top: 20px;float: right;font-size: 20px;color: #ffffff;background-color:white;margin-right: 15px;width:50px;height:50px;border-radius: 50%;overflow: hidden;">
                <img src="/image/user/000.png" alt="" width="50" height="50">
            </div>

            <div class="loginsignup" style="margin-top: 15px;float: right;font-size: 20px;color: #ffffff;">
                <a href="loginsignup.html?type=login" style="text-decoration: none;margin-right: 15px;color: white">登录</a><br><a href="loginsignup.html?type=signup" style="text-decoration: none;margin-right: 15px;color: white">注册</a>
            </div>
        </div>

        <div class="tools">
            <div style="margin-top: 25px;margin-right: 10px;">
                <span class="iconfont"> &#xe75d;</span>
                <span class="iconfont"> &#xe7e0;</span>
                <span class="iconfont"> &#xe6cc;</span>
                <a href="javascript:;" class="iconfont logout" title="登出"> &#xe7cb;</a>
            </div>
            <div style="margin-top: 15px;margin-right: 10px;">
                <a href="books.html" class="iconfont home" title="主页"> &#xe6b8;</a>
                <span class="iconfont" > &#xe64c;</span>
                <span class="iconfont" > &#xe68a;</span>
                <span class="iconfont" > &#xe6b7;</span>
            </div>
        </div>

        <div class="title">
            <span class="iconfont"> &#xe742;</span>一起阅读
        </div>
    </div>



    <!--注册-->
    <div class="mainbox signup">
        <h1>您好，请先注册</h1>
        <div>
            用户名：
            <input class="name" onchange="nameChange()" placeholder="请输入您的用户名">
        </div>
        <div>
            密码：
            <input class="password" placeholder="请设置您的密码">
        </div>

        <div>
            密码确认：
            <input class="password2" placeholder="请再次输入您的密码">
        </div>


        <div  style="border: 1px solid red;height: 500px;background-color: #b9b3a7 ">

            <div id="prvid" class="prvid" style="text-align: center;line-height: 300px " >头像预览</div>

            <form action="xxxxxxxxm"
                  enctype="multipart/form-data" method="post">
                <div style="display: none;">
                    <input type="text" value="IMAGE" name="type"/>
                </div>
                上传头像图片:<input type="file" name="file"
                            onchange="previewImage(this, 'prvid')" multiple="multiple" />
            </form>

        </div>
        <a href="loginsignup.html?type=login" style="float: left;margin-left: 100px;margin-top: 50px;color: #00b7d7;font-size: 20px"> 已经有账号？点我登录</a>
        <div class="confirm signup_btn">
            确认并注册
        </div>
    </div>





    <!--登录-->
    <div class="mainbox login">
        <h1>欢迎</h1>
        <div>
            用户名：
            <input class="name" onchange="nameChange()"  placeholder="请输入您的用户名">
        </div>
        <div>
            密码：
            <input class="password" placeholder="请输入您的密码">
        </div>


        <a href="loginsignup.html?type=signup" style="float: left;margin-left: 100px;margin-top: 50px;color: #00b7d7;font-size: 20px"> 还没有账号？点我注册</a>
        <div class="confirm login_btn">
            确认并登录
        </div>


    </div>








</div>


</body>
</html>

<script>

    //上传图片
    function previewImage(file, prvid) {
        /* file：file控件
         * prvid: 图片预览容器
         */
        var tip = "仅支持png格式图片，且图片尺寸比例为1:1!"; // 设定提示信息
        var filters = {
            "png" : "iVBORw"
        }
        var prvbox = document.getElementById(prvid);
        prvbox.innerHTML = "";
        if (window.FileReader) { // html5方案
            for (var i = 0, f; f = file.files[i]; i++) {
                var fr = new FileReader();
                fr.onload = function(e) {
                    var src = e.target.result;
                    if (!validateImg(src)) {
                        alert(tip)
                    } else {
                        showPrvImg(src);
                    }
                }
                fr.readAsDataURL(f);
            }
        } else { // 降级处理

            if (!/\.png$/i.test(file.value)) {
                alert(tip);
            } else {
                showPrvImg(file.value);
            }
        }

        function validateImg(data) {
            var pos = data.indexOf(",") + 1;
            for ( var e in filters) {
                if (data.indexOf(filters[e]) === pos) {
                    return e;
                }
            }
            return null;
        }

        function showPrvImg(src) {
            var img = document.createElement("img");
            img.src = src;
            img.width=300;
            img.height=300;

            prvbox.appendChild(img);
        }
    }






</script>